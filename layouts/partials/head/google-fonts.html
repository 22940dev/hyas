{{ if .Site.Params.embed_google_fonts -}}
  {{ $fonts := slice -}}
  {{ range .Site.Params.google_fonts -}}
    {{ $family := replace (index (.)  0) " " "+" -}}
    {{ $weights := replace (index (.) 1) " " "" -}}
    {{ $string := print $family ":" $weights -}}
    {{ $fonts = $fonts | append $string -}}
  {{ end -}}
  {{ $url_part := (delimit $fonts "|") | safeHTMLAttr -}}
  <link {{ printf "href=\"https://fonts.googleapis.com/css?family=%s&display=swap\"" $url_part | safeHTMLAttr }} rel="stylesheet">
{{ end -}}
